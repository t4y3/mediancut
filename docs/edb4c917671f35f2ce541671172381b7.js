require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var a=e[n]=new t.Module;r[n][0].call(a.exports,i,a,a.exports)}return e[n].exports}function o(){this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({5:[function(require,module,exports) {
"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(r,o){"object"==("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):r.MedianCut=o()}(void 0,function(){var t=function(t){this.raw=t.data,this.width=t.width,this.height=t.height,this.colors=this.getColorInfo(),this.cubes=[]};return t.prototype._setProperty=function(t){for(var r=0,o=0,e=0,n=0,s=255,h=255,i=255,a=0;a<t.length;a++){var l=t[a];o=Math.max(l.r,o),e=Math.max(l.g,e),n=Math.max(l.b,n),s=Math.min(l.r,s),h=Math.min(l.g,h),i=Math.min(l.b,i),r+=l.uses}var u=1.2*(o-s),f=1.2*(e-h),c=n-i,g="r";return u>f&&u>c&&(g="r"),f>u&&f>c&&(g="g"),c>u&&c>f&&(g="b"),{color:t,total:r,type:g}},t.prototype._mediancut=function(t,r){for(var o=0,e=0,n=0;n<t.length;n++)t[n].total>o&&1!=t[n].color.length&&(e=n,o=t[n].total);if(1==t[e].total)return t;if(1==t[e].color.length)return t;var s=t[e].type;t[e].color.sort(function(t,r){return t[s]<r[s]?-1:t[s]>r[s]?1:0});for(var h=Math.floor((t[e].color.length+1)/2),i=[],a=[],l=0;l<t[e].color.length;l++)l<h?i[i.length]=t[e].color[l]:a[a.length]=t[e].color[l];i=this._setProperty(i),a=this._setProperty(a);for(var u=[],f=0;f<t.length;f++)f!=e&&(u[u.length]=t[f]);return u[u.length]=i,u[u.length]=a,u.length<r?this._mediancut(u,r):u},t.prototype.getColorInfo=function(){for(var t=0,r={},o=0;o<this.height;o++)for(var e=0;e<this.width;e++){var n=this.raw[t]+","+this.raw[t+1]+","+this.raw[t+2];r[n]?r[n]+=1:r[n]=1,t+=4}var s,h=[];for(var i in r)s=i.split(","),h[h.length]={r:parseInt(s[0],10),g:parseInt(s[1],10),b:parseInt(s[2],10),uses:r[i]};return h},t.prototype.getColors=function(){for(var t=[],r=0;r<this.cubes.length;r++){for(var o=0,e=0,n=0,s=0,h=0;h<this.cubes[r].color.length;h++){var i=this.cubes[r].color[h];e+=i.r*i.uses,n+=i.g*i.uses,s+=i.b*i.uses,o+=i.uses}t[r]={r:Math.round(e/o),g:Math.round(n/o),b:Math.round(s/o)}}return t},t.prototype.run=function(t,r){this.colors.length;for(var o=[],e=0;e<this.colors.length;e++)o.push(this.colors[e]);var n=[];n[0]=this._setProperty(o),this.cubes=this._mediancut(n,t);for(var s=this.getColors(),h={},i=0;i<this.cubes.length;i++)for(var a=0;a<this.cubes[i].color.length;a++){var l=this.cubes[i].color[a];h[l.r+","+l.g+","+l.b]={r:s[i].r,g:s[i].g,b:s[i].b}}for(var u="",f=0,c=0;c<this.height;c++)for(var g=0;g<this.width;g++)u=this.raw[f]+","+this.raw[f+1]+","+this.raw[f+2],this.raw[f]=h[u].r,this.raw[f+1]=h[u].g,this.raw[f+2]=h[u].b,f+=4},t});
},{}],3:[function(require,module,exports) {
"use strict";var t=require("../../dist/mediancut"),e=h(t);function h(t){return t&&t.__esModule?t:{default:t}}window.addEventListener("load",function(){var t=document.getElementById("original-image"),h=document.getElementById("original"),i=document.getElementById("result-2"),d=document.getElementById("result-16"),g=document.getElementById("result-256"),a=h.getContext("2d"),n=i.getContext("2d"),u=d.getContext("2d"),w=g.getContext("2d");h.width=t.width,h.height=t.height,i.width=t.width,i.height=t.height,d.width=t.width,d.height=t.height,g.width=t.width,g.height=t.height,a.drawImage(t,0,0,t.width,t.height);var m=a.getImageData(0,0,t.width,t.height),l=a.getImageData(0,0,t.width,t.height),r=a.getImageData(0,0,t.width,t.height);new e.default(m).run(2);new e.default(l).run(16);new e.default(r).run(256),n.putImageData(m,0,0,0,0,t.width,t.height),u.putImageData(l,0,0,0,0,t.width,t.height),w.putImageData(r,0,0,0,0,t.width,t.height),t.style.display="none"});
},{"../../dist/mediancut":5}]},{},[3])